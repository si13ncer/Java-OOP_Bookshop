<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="layoutMDB :: head">
</head>
<title>Đăng nhập</title>
</head>

<body class="p-0">
    <div th:replace="layoutMDB ::header"></div>
    <div class="container">
    
<!-- menu -->
        <div th:replace="layoutMDB ::menu"></div>

		<div style="background-color: #ffffff">
			<form class="text-center p-3" style="color: #757575;" action="#" th:action="@{/book/{masach}/printBill(masach=${book.masach})}" method="post" th:object="${bills}">
				  	<div class="title " style="text-align: start">
		              <h2 class="section-heading pt-2 pb-2"  style="border-bottom: 1px solid #e1dcdc;">
		                <b>Nhập thông tin </b>
		                <i class="fas fa-pen pl-2"></i>
		              </h2>
		            </div>
			      <!-- Tên người mua -->
			      <input type="hidden" th:field="*{madonhang}" />
			      <div class="md-form">
			        <input th:field="*{tennguoimua}" th:errorclass="field-error" type="text" id="materialLoginFormName" class="form-control">
			        <label for="materialLoginFormName">Họ và tên người mua</label>
			        <!-- thongbao -->
			         <div th:if="${#fields.hasErrors('tennguoimua')}"  role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-autohide="false">
					     <div class="toast-header warning-color">
					         <i class="fas fa-exclamation-triangle pr-2"></i>
					         <strong class="mr-auto">Thông báo</strong>
					         <small>1 giây trước</small>
					         <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
					             <span aria-hidden="true">&times;</span>
					         </button>
					     </div>
					     <div th:errors="*{tennguoimua}" class="toast-body">
					     </div>
					 </div>
			      </div>
			      <!-- Email -->
			      <div class="md-form">
			        <input th:field="*{emailnguoimua}" th:errorclass="field-error" type="email" id="materialLoginFormEmail" class="form-control">
			        <label for="materialLoginFormEmail">E-mail</label>
			        <!-- thongbao -->
			         <div th:if="${#fields.hasErrors('emailnguoimua')}"  role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-autohide="false">
					     <div class="toast-header warning-color">
					         <i class="fas fa-exclamation-triangle pr-2"></i>
					         <strong class="mr-auto">Thông báo</strong>
					         <small>1 giây trước</small>
					         <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
					             <span aria-hidden="true">&times;</span>
					         </button>
					     </div>
					     <div th:errors="*{emailnguoimua}" class="toast-body">
					     </div>
					 </div>
			      </div>
			      <!-- SDT -->
			       <div class="md-form">
			        <input th:field="*{sodienthoainguoimua}" th:errorclass="field-error" type="number" id="materialLoginFormNumber" class="form-control">
			        <label for="materialLoginFormNumber">Nhập số điện thoại</label>
			        <input type="hidden" th:field="*{hinhanh}" th:errorclass="field-error" >
			        <!-- thongbao -->
			         <div th:if="${#fields.hasErrors('sodienthoainguoimua')}"  role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-autohide="false">
					     <div class="toast-header warning-color">
					         <i class="fas fa-exclamation-triangle pr-2"></i>
					         <strong class="mr-auto">Thông báo</strong>
					         <small>1 giây trước</small>
					         <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
					             <span aria-hidden="true">&times;</span>
					         </button>
					     </div>
					     <div th:errors="*{sodienthoainguoimua}" class="toast-body">
					     </div>
					 </div>
			      </div>
			      <!-- địa chỉ giao hàng -->
			      <div class="md-form">
			        <input th:field="*{diachi}" th:errorclass="field-error" type="text" id="materialLoginFormAddress" class="form-control">
			        <label for="materialLoginFormAddress">Nhập địa chỉ giao hàng</label>
			        <!-- thongbao -->
			         <div th:if="${#fields.hasErrors('diachi')}"  role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-autohide="false">
					     <div class="toast-header warning-color">
					         <i class="fas fa-exclamation-triangle pr-2"></i>
					         <strong class="mr-auto">Thông báo</strong>
					         <small>1 giây trước</small>
					         <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
					             <span aria-hidden="true">&times;</span>
					         </button>
					     </div>
					     <div th:errors="*{diachi}" class="toast-body">
					     </div>
					 </div>
			      </div>
		<!-- book info -->
			        <label for="materialLoginForminfo">Thông tin sản phẩm</label>
			      <div class="card m-2 book-info d-flex flex-row" style="height: auto">
	
					  <!-- Card image -->
					  <img class="card-img-top" style="max-width: 30%;" th:src="@{/image/{image}(image=${book.hinhanh})}" alt="Card image cap">
	
					  <!-- Card content -->
					  <div class="card-body d-flex flex-column">
					  
					  	<div class="p-2">
	                		<h2  th:text="${book.tensach}" style="font-weight: normal; text-align: start"></h2>
	                	</div>
	
					    <div class="author p-2">
		                    <h6 style="text-align: start">Tác giả: <b th:text="${book.tacgia}" ></b></h6>
		                    <h6 style="text-align: start">Thể loại: <b th:text="${book.theloai}" ></b></h6>
		                </div>
		                
		                <div class="payment p-2">
		                    <h6 style="text-align: start">Hình thức thanh toán:<b class="ml-5">Thanh toán khi nhận hàng</b></h6>
		                </div>
	
					     <!-- amount -->
					    <div class="p-2 amount d-flex flex-row align-items-center">
			              <table>
	
			              	<tbody>
			              		<tr>
			              			<th>Số lượng:</th>
	
			              			<td>
			              				<b th:text="*{soluong}" class="m-0 ml-5 p-0 d-flex mr-5">
											<!-- <div class="value-button" id="decrease" onclick="decreaseValue()" value="Decrease Value">-</div>
											<input th:field="*{soluong}" type="number" id="number" value="0"  />  th:value="${book.soluong}"
											<div class="value-button" id="increase" onclick="increaseValue()" value="Increase Value">+</div> -->
										</b>										
			              			</td>
			              			<td>
			              				<!-- thongbao -->
								         <div th:if="${outOfStockMessage}"  role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-autohide="false">
										     <div class="toast-header warning-color">
										         <i class="fas fa-exclamation-triangle pr-2"></i>
										         <strong class="mr-auto">Thông báo</strong>
										         <small>1 giây trước</small>
										         <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
										             <span aria-hidden="true">&times;</span>
										         </button>
										     </div>
										     <div th:utext="${outOfStockMessage}" class="toast-body">
										     </div>
										 </div>
			              			</td>
			              			
			              		</tr>
	
			              		<tr>
			              			<th style="text-align: start">Giá: </th>
	
			              			<td>
			              				<h3 th:text="${tongcong}" class="text-warning ml-5" style="font-weight: 600; margin-top: 8px" ></h3>
			              			</td>
			              		</tr>
			              	</tbody>
	
			              </table>
			            </div> 
	
					  </div>
	
					</div>
			      <!-- Sign in button -->
			      <button class="btn btn-danger btn-rounded btn-block my-4 waves-effect z-depth-0" type="submit">Xác nhận thanh toán</button>
	
			    </form>
			
		</div>

    </div>
   <script type="text/javascript" src="/MDB-free/js/amountBtn.js"></script>
   <script type="text/javascript">
		function getAmount() {
			var number = parseInt(document.getElementById('number').value)
			if (number > 0) {
				document.getElementById('soluong').value = number
				document.getElementById('buyNowForm').submit()
			} else {
				document.getElementsByClassName("numberErr")[0].style.display="block"
			}
			
		}
		
	</script>
   <script type="text/javascript">
		$('.toast').toast('show');
   </script>

</body>

</html>